@page "/authorize/login"
@attribute [AllowAnonymous]

<PageTitle>Страница авторизации</PageTitle>
<div class="auth-form__owner">
    <EditForm class="auth-form" Model="@loginModel" OnSubmit="Submit">
        <DataAnnotationsValidator />

        <div class="auth-form-group">
            <InputTextBox @bind-Value="loginModel.Username" Placeholder="Введите логин"></InputTextBox>
            <ValidationMessage For="@(() => loginModel.Username)"></ValidationMessage>
        </div>
        <div class="auth-form-group">

            <InputTextBox @bind-Value="loginModel.Password" Placeholder="Введите пароль"></InputTextBox>
            <ValidationMessage For="@(() => loginModel.Password)"></ValidationMessage>
        </div>

        <NavLink href="/authorize/admin-info">
            <div class="auth-form-question">
                <MudIcon Icon="@Icons.Material.Filled.QuestionMark" Class="auth-form-question__icon"></MudIcon>
                <span class="auth-form-question__text">
                    Хотите стать администратором?
                </span>

            </div>    
        </NavLink>
        <button class="custom-button custom-button-red" type="submit">Войти</button>
    </EditForm>
</div>


@code {
    LoginModel loginModel = new LoginModel();
    void Submit(EditContext context)
    {

    }

    public class LoginModel
    {
        [Required(ErrorMessage = "Имя пользователя обязательно!")]
        [StringLength(20, MinimumLength = 2, ErrorMessage = "Длина имени должна быть от {2} до {1} символов")]
        public string? Username { get; set; }

        [Required(ErrorMessage = "Пароль обязателен!")]
        [StringLength(20, MinimumLength = 2, ErrorMessage = "Длина имени должна быть от {2} до {1} символов")]
        public string? Password { get; set; }
    }
}
